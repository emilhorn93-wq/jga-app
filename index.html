<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JGA Command Center</title>
    <style>
        /* ALLGEMEINES DESIGN */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #1a1a1a;
            color: white;
            text-align: center;
            padding: 20px;
            margin: 0;
        }
        .container {
            background-color: #2c2c2c;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.5);
            max-width: 450px;
            margin: 0 auto;
            position: relative;
        }
        h1, h2, h3 { color: #ffcb05; text-shadow: 1px 1px #3c5aa6; }
        
        /* BUTTONS */
        .btn {
            background-color: #333;
            color: white;
            border: 2px solid #555;
            padding: 15px;
            margin: 8px 0;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            width: 100%;
            transition: 0.2s;
            font-weight: bold;
        }
        .btn:hover { background-color: #444; }
        .btn:active { transform: scale(0.98); }
        .btn-back { background-color: #555; margin-top: 20px; }
        
        /* EINGABEFELDER */
        input[type="text"], input[type="number"] {
            width: 90%;
            padding: 12px;
            margin: 6px 0;
            border-radius: 6px;
            border: 1px solid #555;
            background-color: #1a1a1a;
            color: white;
            font-size: 16px;
        }
        
        /* MEN√ú STEUERUNG */
        .page { display: none; }
        .page.active { display: block; }
        
        /* QUIZ STYLES */
        .btn.correct-ans { background-color: #4CAF50; border-color: #4CAF50; color: white; }
        .btn.wrong-ans { background-color: #f44336; border-color: #f44336; color: white; }
        #feedback { font-size: 1.2em; font-weight: bold; margin-top: 20px; min-height: 50px; }
        .correct { color: #4CAF50; }
        .wrong { color: #f44336; }
        #next-btn { background-color: #3c5aa6; border: none; display: none; margin-top: 20px; }
        
        /* KATZEKASSE STYLES */
        .expense-item {
            background-color: #1a1a1a;
            padding: 10px;
            border-radius: 6px;
            margin: 5px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-left: 4px solid #ffcb05;
        }
        .del-btn { background-color: #f44336; color: white; border: none; padding: 5px 10px; border-radius: 4px; cursor: pointer; }
        #splitResult { text-align: left; background-color: #1a1a1a; padding: 15px; border-radius: 8px; margin-top: 15px; }
        #splitResult ul { padding-left: 20px; }
    </style>
</head>
<body>

    <div class="container">
        
        <div id="menu" class="page active">
            <h1>üç∫ JGA Command Center üç∫</h1>
            <p>Willkommen zur legend√§rsten Tour des Jahres.</p>
            <button class="btn" onclick="showPage('kasse')">üí∞ Katzekasse (Abrechnung)</button>
            <button class="btn" onclick="showPage('quiz')">ü§ì Pok√©mon Hardcore-Quiz</button>
        </div>

        <div id="kasse" class="page">
            <h2>üí∞ Katzekasse</h2>
            <p>Wie viele Leute sind insgesamt auf dem JGA?</p>
            <input type="number" id="totalPeople" value="5" min="2">
            
            <hr style="border-color: #555; margin: 20px 0;">
            
            <h3>Neue Ausgabe</h3>
            <input type="text" id="expName" placeholder="Wer hat bezahlt? (z.B. Max)">
            <input type="text" id="expDesc" placeholder="Wof√ºr? (z.B. Kasten Bier)">
            <input type="number" id="expAmount" placeholder="Betrag in ‚Ç¨ (z.B. 25.50)">
            <button class="btn" style="background-color: #4CAF50; border-color: #4CAF50;" onclick="addExpense()">‚ûï Eintragen</button>
            
            <div id="expenseList" style="margin-top: 20px;"></div>
            
            <button class="btn" style="background-color: #3c5aa6; border-color: #3c5aa6; margin-top: 20px;" onclick="calculateSplit()">üìä Abrechnung berechnen</button>
            
            <div id="splitResult"></div>

            <button class="btn btn-back" onclick="showPage('menu')">üîô Zur√ºck zum Men√º</button>
        </div>

        <div id="quiz" class="page">
            <h2>ü§ì Nerd-Pr√ºfung ü§ì</h2>
            <div id="progress" style="color:#aaa; font-size:14px; margin-bottom:10px;">Frage 1 von 30</div>
            <div id="question" style="font-size: 18px; margin-bottom: 20px; font-weight: bold;">Lade Frage...</div>
            <div id="answers"></div>
            <div id="feedback"></div>
            <button id="next-btn" class="btn" onclick="nextQuestion()">N√§chste Frage ‚û°Ô∏è</button>
            
            <button class="btn btn-back" onclick="showPage('menu')">üîô Zur√ºck zum Men√º</button>
        </div>

    </div>

    <script>
        // ---- NAVIGATION ----
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => page.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
        }

        // ================= LOGIK: KATZEKASSE =================
        let expenses = [];

        function addExpense() {
            let name = document.getElementById('expName').value.trim();
            let desc = document.getElementById('expDesc').value.trim();
            let amount = parseFloat(document.getElementById('expAmount').value.replace(',', '.'));

            if (!name || isNaN(amount) || amount <= 0) {
                alert("Bitte einen Namen und einen g√ºltigen Betrag eingeben!");
                return;
            }

            expenses.push({ name: name, desc: desc, amount: amount });
            
            // Felder leeren
            document.getElementById('expDesc').value = '';
            document.getElementById('expAmount').value = '';
            
            updateExpenseList();
            document.getElementById('splitResult').innerHTML = ''; // Resultat l√∂schen, da sich Werte ge√§ndert haben
        }

        function updateExpenseList() {
            let listDiv = document.getElementById('expenseList');
            if (expenses.length === 0) {
                listDiv.innerHTML = "";
                return;
            }
            
            let html = '<h3>Bisherige Ausgaben:</h3>';
            expenses.forEach((ex, i) => {
                html += `
                <div class="expense-item">
                    <div><b>${ex.name}</b>: ${ex.amount.toFixed(2)}‚Ç¨ <br><small>${ex.desc}</small></div>
                    <button class="del-btn" onclick="removeExpense(${i})">X</button>
                </div>`;
            });
            listDiv.innerHTML = html;
        }

        function removeExpense(index) {
            expenses.splice(index, 1);
            updateExpenseList();
            document.getElementById('splitResult').innerHTML = '';
        }

        function calculateSplit() {
            if (expenses.length === 0) {
                alert("Es gibt noch keine Ausgaben!");
                return;
            }

            let totalPeople = parseInt(document.getElementById('totalPeople').value);
            if (isNaN(totalPeople) || totalPeople < 1) {
                alert("Bitte eine g√ºltige Personenanzahl oben eintragen!");
                return;
            }

            let total = 0;
            let paidPerPerson = {};

            // Zusammenrechnen wer wie viel gezahlt hat
            expenses.forEach(ex => {
                total += ex.amount;
                // Namen vereinheitlichen (z.B. "max" und "Max" zusammenfassen)
                let nameKey = ex.name.charAt(0).toUpperCase() + ex.name.slice(1).toLowerCase();
                
                if (!paidPerPerson[nameKey]) paidPerPerson[nameKey] = 0;
                paidPerPerson[nameKey] += ex.amount;
            });

            let perPersonAvg = total / totalPeople;
            let numPayers = Object.keys(paidPerPerson).length;
            
            let html = `
                <h3>üí∏ Das Ergebnis:</h3>
                <p><b>Gesamtkosten:</b> ${total.toFixed(2)} ‚Ç¨</p>
                <p><b>Pro Kopf (${totalPeople} Pers.):</b> ${perPersonAvg.toFixed(2)} ‚Ç¨</p>
                <hr style="border-color:#555;">
                <ul>
            `;

            // Wer bekommt was / wer schuldet was
            for (let person in paidPerPerson) {
                let balance = paidPerPerson[person] - perPersonAvg;
                if (balance > 0.01) {
                    html += `<li class="correct">${person} bekommt noch <b>${balance.toFixed(2)} ‚Ç¨</b></li>`;
                } else if (balance < -0.01) {
                    html += `<li class="wrong">${person} muss noch <b>${Math.abs(balance).toFixed(2)} ‚Ç¨</b> in die Kasse zahlen</li>`;
                } else {
                    html += `<li>${person} ist genau bei ¬±0.</li>`;
                }
            }

            // F√ºr die Leute, die gar nichts gezahlt haben
            let freeloaders = totalPeople - numPayers;
            if (freeloaders > 0) {
                html += `<br><li class="wrong"><b>ACHTUNG:</b> ${freeloaders} Person(en), die bisher NICHTS gezahlt haben, m√ºssen jeweils noch <b>${perPersonAvg.toFixed(2)} ‚Ç¨</b> zahlen!</li>`;
            }

            html += `</ul>`;
            document.getElementById('splitResult').innerHTML = html;
        }

        // ================= LOGIK: POK√âMON QUIZ =================
        const questions = [
            { question: "Welches nicht-legend√§re Pok√©mon (ohne Mega-Entwicklung) hat die allerh√∂chste Basiswert-Summe?", answers: ["Dragoran", "Letarking", "Metagross", "Knakrack"], correct: 1 },
            { question: "Aufgrund eines Programmierfehlers in Rot/Blau: Welcher Typ war f√§lschlicherweise komplett immun gegen Geist-Attacken?", answers: ["Normal", "Kampf", "Psycho", "Gift"], correct: 2 },
            { question: "Wie viele verschiedene Flecken-Muster gibt es ungef√§hr von dem Pok√©mon Pandir im Code des Spiels?", answers: ["Genau 256", "Ca. 8.192", "Ca. 1 Million", "√úber 4 Milliarden"], correct: 3 },
            { question: "Welches dieser Standard-Pok√©mon hat dieselbe extrem niedrige Fangrate (3) wie Mewtu?", answers: ["Relaxo", "Tanhel", "Lapras", "Ditto"], correct: 1 },
            { question: "Welches getragene Item verdoppelt sowohl den physischen als auch den Spezial-Angriff von Pikachu?", answers: ["Flinkklaue", "Kugelblitz", "Meistergurt", "Zauberwasser"], correct: 1 },
            { question: "Welches Pok√©mon √§ndert beim Entwickeln in den Generationen 3 bis 5 mit 33% Wahrscheinlichkeit sein Geschlecht?", answers: ["Azurill", "Barschwa", "Trasla", "Kirlia"], correct: 0 },
            { question: "Welches Pok√©mon wurde historisch gesehen von den Entwicklern als allererstes entworfen?", answers: ["Bisasam", "Pikachu", "Mew", "Rizeros"], correct: 3 },
            { question: "Welches Pok√©mon hat als einziges immer exakt 1 KP?", answers: ["Karpador", "Dummisel", "Ninjatom", "Zubat"], correct: 2 },
            { question: "Welches Pok√©mon aus Gen 5 wird von einer Trainerin bereits in Pok√©mon Rot/Blau am Felstunnel beschrieben (Rosa mit Blumenmuster)?", answers: ["Somniam", "Ohrdoch", "Picochilla", "Monozyto"], correct: 0 },
            { question: "In Rot/Blau bewirkt die Attacke 'Energiefokus' aufgrund eines Bugs nicht das Erh√∂hen, sondern das Senken von...", answers: ["der Initiative", "der Ausweichrate", "der Volltreffer-Quote", "dem Spezial-Angriff"], correct: 2 },
            { question: "Welches Pok√©mon aus Gen 1 konnte in den ersten Spielen seine eigene Namensgeber-Attacke gar nicht erlernen?", answers: ["Smogon (Smog)", "Schlurp (Schlecker)", "Kicklee (Turmkick)", "Bisasam (Egelsamen)"], correct: 1 },
            { question: "Welches Item braucht man seit Generation 5 zwingend, um Barschwa zu Milotic zu entwickeln?", answers: ["Ewigstein", "Prachtschuppe", "Wasserstein", "Sch√∂nschuppe"], correct: 3 },
            { question: "Welches Pok√©mon ziert das Cover der originalen japanischen 'Gr√ºnen Edition'?", answers: ["Bisaflor", "Sichlor", "Raupy", "Bisasam"], correct: 0 },
            { question: "Welche Typenkombination hatte bis zur Einf√ºhrung des Feen-Typs (Gen 6) absolut keine Schw√§che?", answers: ["Stahl / K√§fer", "Geist / Unlicht", "Drache / Feuer", "Boden / Wasser"], correct: 1 },
            { question: "Wie lautet der interne 'Geheim'-Typ, den das ber√ºhmte Glitch-Pok√©mon MissingNo in Rot/Blau besitzt?", answers: ["Bird / Vogel", "Glitch", "Null", "Mew"], correct: 0 },
            { question: "Welches Pok√©mon besitzt laut Pok√©dex eine Musterung auf dem Bauch, die je nach Region unterschiedlich ist?", answers: ["Pandir", "Quaputzi", "Farbbeagle", "Arbok"], correct: 3 },
            { question: "Was bestimmt in der 2. Generation (Gold/Silber), ob ein angetroffenes Pok√©mon ein Shiny ist?", answers: ["Der Wochentag", "Das Level", "Die DVs (IVs)", "Die Trainer-ID"], correct: 2 },
            { question: "Welches der folgenden weiblichen Pok√©mon ist unfruchtbar und kann in der Pension KEINE Eier legen?", answers: ["Nidoqueen", "Nidoran‚ôÄ", "Kangama", "Chaneira"], correct: 0 },
            { question: "Welches Pok√©mon wiegt laut Pok√©dex exakt 999,9 kg und teilt sich damit Platz 1 der schwersten Pok√©mon mit Kaguron?", answers: ["Mewtu", "Relaxo", "Cosmovum", "Groudon"], correct: 2 },
            { question: "Wie hie√ü Evoli (Eevee) urspr√ºnglich in der Beta-Version der englischen √úbersetzung?", answers: ["Eon", "Evie", "Vee", "Mutant"], correct: 0 },
            { question: "Laut Pok√©dex ist der blaue K√∂rper nur eine Attrappe. Das wahre Wesen ist der schwarze Schwanz. Welches Pok√©mon ist gemeint?", answers: ["Schiggy", "Aquana", "Woingenau", "Morlord"], correct: 2 },
            { question: "Warum schl√§gt die Attacke 'Platscher' zwingend fehl, wenn das Feld 'Gravitation' aktiv ist?", answers: ["Weil Wasser zu schwer wird", "Weil Platscher im Japanischen 'H√ºpfer' hei√üt", "Weil es ein Glitch ist", "Weil Gravitation Normal-Attacken blockiert"], correct: 1 },
            { question: "Wie hoch war das absolute, limitierende EV-Maximum f√ºr einen einzelnen Statuswert in den Generationen 3 bis 5?", answers: ["100", "252", "255", "999"], correct: 3 },
            { question: "Welches ist das einzige Pok√©mon, das sich nur entwickelt, wenn man es gegen ein GANZ BESTIMMTES anderes Pok√©mon (Cavalanzas) tauscht?", answers: ["Flegmon", "Schnuthelm", "Georok", "Sichlor"], correct: 1 },
            { question: "Wie hei√üt das Wetter-Ph√§nomen, das am 12. Januar (Geburtstag von Junichi Masuda) als Easter Egg auftritt?", answers: ["Diamantstaub", "Sternenschauer", "Blutregen", "Aurora-Borealis"], correct: 0 },
            { question: "Welches Pok√©mon besitzt die allerh√∂chste Basis-Initiative (200) aller bisherigen Spiele?", answers: ["Ninjask", "Deoxys (Speed)", "Regieleki", "Lektrobal"], correct: 2 },
            { question: "Wie entwickelt man in der Gelben Edition sein Starter-Pikachu zu Raichu?", answers: ["Donnerstein", "Freundschaft auf max", "Level 100", "Gar nicht (au√üer durch Tausch)"], correct: 3 },
            { question: "Welche Auswirkung beschreibt den ber√ºhmt-ber√ºchtigten '1/256-Glitch' in Pok√©mon Rot/Blau?", answers: ["Meisterb√§lle k√∂nnen failen", "100%-Attacken k√∂nnen verfehlen", "Das Spiel crasht beim Speichern", "Pok√©mon klonen sich im PC"], correct: 1 },
            { question: "Welches Pok√©mon kann die Attacke 'Plaudagei' erlernen, mit der man auf dem DS fr√ºher eigene Audios per Mikro aufnehmen konnte?", answers: ["Porygon", "Plaudagei", "Krakeelo", "W Pummeluff"], correct: 1 },
            { question: "Welche Attacke war in der 1. Generation (Rot/Blau) die EINZIGE des Typs Drache, die existierte?", answers: ["Drachenwut", "Wutanfall", "Drachenklaue", "Windhose"], correct: 0 }
        ];

        let currentQuestionIndex = 0;

        function showQuestion() {
            const q = questions[currentQuestionIndex];
            document.getElementById("progress").innerText = `Frage ${currentQuestionIndex + 1} von ${questions.length}`;
            document.getElementById("question").innerText = q.question;
            document.getElementById("answers").innerHTML = "";
            document.getElementById("feedback").innerText = "";
            document.getElementById("next-btn").style.display = "none";

            q.answers.forEach((answer, index) => {
                const btn = document.createElement("button");
                btn.innerText = answer;
                btn.classList.add("btn");
                btn.onclick = () => checkAnswer(btn, index);
                document.getElementById("answers").appendChild(btn);
            });
        }

        function checkAnswer(clickedBtn, index) {
            const q = questions[currentQuestionIndex];
            const feedbackDiv = document.getElementById("feedback");
            const buttons = document.querySelectorAll("#answers .btn");
            
            buttons.forEach(btn => btn.disabled = true);

            if (index === q.correct) {
                clickedBtn.classList.add("correct-ans");
                feedbackDiv.innerHTML = "‚úÖ Verdammt, er wusste es!<br>üç∫ DIE CREW TRINKT! üç∫";
                feedbackDiv.className = "correct";
            } else {
                clickedBtn.classList.add("wrong-ans");
                buttons[q.correct].classList.add("correct-ans");
                feedbackDiv.innerHTML = "‚ùå FALSCH!<br>üç∫ DER BR√ÑUTIGAM TRINKT! üç∫";
                feedbackDiv.className = "wrong";
            }
            
            document.getElementById("next-btn").style.display = "block";
        }

        function nextQuestion() {
            currentQuestionIndex++;
            if (currentQuestionIndex < questions.length) {
                showQuestion();
            } else {
                document.getElementById("progress").innerText = "Quiz beendet!";
                document.getElementById("question").innerText = "Alle 30 Fragen geschafft!";
                document.getElementById("answers").innerHTML = "";
                document.getElementById("next-btn").style.display = "none";
                document.getElementById("feedback").innerHTML = "Endstand erreicht! <br><br> Lebt der Br√§utigam noch? Prost! üçª";
                document.getElementById("feedback").className = "correct";
            }
        }

        // Starte das Quiz im Hintergrund, damit es bereit ist
        showQuestion();
    </script>
</body>
</html>
