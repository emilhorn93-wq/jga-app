<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JGA COMMAND CENTER</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #000000;
            --text-color: #ffffff;
            --border-color: #ffffff;
            --button-hover: #333333;
        }

        body {
            background-color: #1a1a1a; /* Dunkler Hintergrund hinter den Fischen */
            color: var(--text-color);
            font-family: 'Press Start 2P', cursive;
            margin: 0;
            padding: 20px;
            text-align: center;
            font-size: 12px;
            line-height: 1.6;
            
            /* === KARPADOR HINTERGRUND === */
            /* Das Bild ist direkt im Code eingebettet, damit es sofort funktioniert */
            background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAllBMVEUAAAAAAAD///+ZAACZAAAAmQAAZAABmQAAZgAAmQABmQAAmQAAZgAAmQAAZgABmQAAZgAAmQAAZgABmQAAZgAAmQAAZgAAmQAAZgAAZgAAmQAAZgAAmQAAZgAAmQAAZgAAZgAAmQAAmQAAZgAAZgAAmQAAZgAAZgAAmQAAZgAAZgAAZgAAZgAAZgAAZgAAZgAAZgAAZgAAZgD+vR+RAAAANnRSTlMAAQIDBAUGBwgJCgsMDQ4PEBESExQVFhcYGRobHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2ZuaNngAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAFTSURBVDjLpVXZFoIgEBS11tZ279b2/3/yVkBQUJO+cT44DDOzMIQ/j5gZ+46FqR0D076P+r4/j3i+4v15xuv1g9frG+9/v7j9/uD2+8Lz94Hn7wP/94H/84H384H34wPvxwfujw/c7x+43z9wfwS4PwLcHwHu9wD3e4D7LcD9FuB+C3C/BbjfAtxvAe63APdb4L8u8F8X+K8L/NcF/usC/3WB/7rAf13gvy7wXxf4rwu81wXe6wLvZYH3ssB7WeC9LPBeFngvC7yXBc7LAudlgfOy4H9Z4LwscF4WOC8LnJcFzssC52WB87LAeVngvCxwXhY4LwucHwXOjwLnR4HzosB5UeC8KHBeFDgvCpwXBc6LAudFgfOi+J8XBc6LAudFgfOi+J8XBc6LAudFgfOi+J8XBc6LAudFgfOiwHlR4LwocF4UOC8KnBcFzosC50WB86LAeVHgvChwXhQ4LwqcHwXOjwLnR4HzosB5UeC8KHBe/gEihI5pynfR/AAAAABJRU5ErkJggg==');
            background-size: 64px; /* Gr√∂√üe der Fische */
            background-repeat: repeat; /* Muster wiederholen */
            image-rendering: pixelated; /* WICHTIG: Macht die Fische scharf und pixelig */
        }

        h1 {
            font-size: 18px;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
            line-height: 1.5;
        }
        
        p { font-size: 10px; margin-bottom: 25px; color: #ccc; }

        /* === DER POK√âMON RAHMEN === */
        .frame-container {
            position: relative;
            max-width: 500px;
            margin: 20px auto;
            padding: 30px 20px;
            /* WICHTIG: Hintergrund schwarz machen, damit man den Text √ºber den Fischen lesen kann */
            background-color: #000000; 
            border: 4px double var(--border-color);
            z-index: 10;
        }

        /* Die 4 Pokeball-Ecken */
        .corner {
            position: absolute;
            width: 16px;
            height: 16px;
            background-color: #000000; /* Muss schwarz sein, um den Rahmen zu verdecken */
            z-index: 20;
        }
        .corner-tl { top: -8px; left: -8px; }
        .corner-tr { top: -8px; right: -8px; }
        .corner-bl { bottom: -8px; left: -8px; }
        .corner-br { bottom: -8px; right: -8px; }

        /* Pixel Art Pok√©ball */
        .pokeball-icon {
            width: 2px; height: 2px;
            background: transparent;
            box-shadow: 
                4px 0 #fff, 6px 0 #fff, 8px 0 #fff, 10px 0 #fff,
                2px 2px #fff, 12px 2px #fff,
                0 4px #fff, 4px 4px #fff, 6px 4px #fff, 8px 4px #fff, 10px 4px #fff, 14px 4px #fff,
                0 6px #fff, 2px 6px #fff, 4px 6px #000, 6px 6px #000, 8px 6px #000, 10px 6px #000, 12px 6px #fff, 14px 6px #fff,
                0 8px #fff, 4px 8px #fff, 6px 8px #fff, 8px 8px #fff, 10px 8px #fff, 14px 8px #fff,
                2px 10px #fff, 12px 10px #fff,
                4px 12px #fff, 6px 12px #fff, 8px 12px #fff, 10px 12px #fff;
            position: relative;
            top: 1px; left: 1px;
        }
        .pokeball-icon::after {
            content: ''; position: absolute;
            width: 4px; height: 4px;
            background: #fff;
            top: 5px; left: 5px;
            border: 2px solid #000;
        }

        /* === BUTTONS IM RETRO LOOK === */
        .btn {
            display: block;
            width: 100%;
            background-color: #222;
            color: #fff;
            border: 2px solid #fff;
            padding: 15px 10px;
            margin: 15px 0;
            font-family: 'Press Start 2P', cursive;
            font-size: 10px;
            text-transform: uppercase;
            cursor: pointer;
            box-shadow: 0 0 0 2px #000, 0 0 0 4px #fff; 
            margin-bottom: 25px;
            transition: transform 0.1s;
        }

        .btn:hover { background-color: var(--button-hover); }
        .btn:active { transform: translateY(2px); }

        /* Eingabefelder */
        input {
            width: 90%;
            background: #000;
            color: #fff;
            border: 2px solid #fff;
            padding: 12px;
            font-family: 'Press Start 2P', cursive;
            font-size: 10px;
            margin-bottom: 10px;
            outline: none;
        }

        /* Listen & Ergebnisse */
        .expense-item {
            border: 1px solid #555;
            padding: 10px;
            margin-bottom: 5px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 9px;
        }
        .del-btn {
            background: #fff; color: #000;
            border: none; padding: 4px 6px;
            cursor: pointer; font-family: inherit;
        }
        
        .page { display: none; }
        .page.active { display: block; }
        
        #syncStatus { color: #777; font-size: 8px; margin-bottom: 15px; }

        .question-box {
            border: 2px solid #fff;
            padding: 15px;
            margin-bottom: 20px;
            text-align: left;
        }
        #feedback { display: none; margin-top: 15px; padding: 10px; border: 1px dashed #fff; }

    </style>
</head>
<body>

    <div class="frame-container">
        <div class="corner corner-tl"><div class="pokeball-icon"></div></div>
        <div class="corner corner-tr"><div class="pokeball-icon"></div></div>
        <div class="corner corner-bl"><div class="pokeball-icon"></div></div>
        <div class="corner corner-br"><div class="pokeball-icon"></div></div>

        <div id="menu" class="page active">
            <h1>JGA<br>COMMAND CENTER</h1>
            <p>Willkommen zur legend√§rsten Tour des Jahres.</p>
            <br>
            <button class="btn" onclick="showPage('kasse'); loadDataFromCloud();">üí∞ KATZEKASSE</button>
            <button class="btn" onclick="showPage('quiz')">ü§ì HARDCORE QUIZ</button>
            <button class="btn" style="opacity: 0.5; cursor: default;">üì∑ GALERIE (BALD)</button>
        </div>

        <div id="kasse" class="page">
            <h2>üí∞ KATZEKASSE</h2>
            <div id="syncStatus">VERBINDE MIT SERVER...</div>
            
            <p>ANZAHL SPIELER:</p>
            <input type="number" id="totalPeople" value="5" min="2" onchange="saveDataToCloud()">
            
            <hr style="border: 1px dashed #fff; margin: 20px 0;">
            
            <p>NEUE AUSGABE:</p>
            <input type="text" id="expName" placeholder="WER? (z.B. Max)">
            <input type="text" id="expDesc" placeholder="WAS? (z.B. Bier)">
            <input type="number" id="expAmount" placeholder="WIE VIEL? (‚Ç¨)">
            <button class="btn" onclick="addExpense()">‚ûï EINTRAGEN</button>
            
            <div id="expenseList" style="margin-top: 20px; text-align: left;"></div>
            
            <button class="btn" onclick="calculateSplit()">üìä ABRECHNUNG</button>
            <div id="splitResult" style="text-align: left; margin-top: 20px; font-size: 9px;"></div>
            
            <button class="btn" style="margin-top: 30px;" onclick="showPage('menu')">‚¨ÖÔ∏è ZUR√úCK</button>
        </div>

        <div id="quiz" class="page">
            <h2>ü§ì TRAINER BATTLE</h2>
            <div id="progress" style="color:#777; margin-bottom: 10px;">FRAGE 1 / 1</div>
            
            <div class="question-box">
                <div id="question">Lade Daten...</div>
            </div>

            <div id="answers"></div>
            <div id="feedback"></div>
            
            <button id="next-btn" class="btn" style="display:none;" onclick="nextQuestion()">N√ÑCHSTE RUNDE ‚û°Ô∏è</button>
            <button class="btn" style="margin-top: 30px;" onclick="showPage('menu')">‚¨ÖÔ∏è FLUCHT (MEN√ú)</button>
        </div>

    </div>

    <script>
        // ==========================================
        // ‚ö†Ô∏è DEINE GOOGLE URL HIER EINF√úGEN:
        const GOOGLE_SHEET_URL = "HIER_DEINE_URL_EINF√úGEN";
        // ==========================================

        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => page.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
        }

        // --- CLOUD DATENBANK ---
        let appData = { totalPeople: 5, expenses: [] };

        function loadDataFromCloud() {
            if (GOOGLE_SHEET_URL.includes("HIER_DEINE_URL")) {
                document.getElementById('syncStatus').innerText = "‚ö†Ô∏è FEHLER: URL FEHLT IM CODE!";
                document.getElementById('syncStatus').style.color = "red";
                return;
            }
            fetch(GOOGLE_SHEET_URL)
                .then(response => response.json())
                .then(data => {
                    if (data && data.expenses) appData = data;
                    if (data.totalPeople) document.getElementById('totalPeople').value = data.totalPeople;
                    updateExpenseList();
                    document.getElementById('syncStatus').innerText = "‚úÖ ONLINE VERBUNDEN";
                })
                .catch(e => document.getElementById('syncStatus').innerText = "‚ùå LADEFEHLER (OFFLINE?)");
        }

        function saveDataToCloud() {
            appData.totalPeople = parseInt(document.getElementById('totalPeople').value) || 5;
            document.getElementById('syncStatus').innerText = "‚è≥ SPEICHERE...";
            
            const formData = new URLSearchParams();
            formData.append('data', JSON.stringify(appData));
            fetch(GOOGLE_SHEET_URL, { method: 'POST', body: formData })
                .then(() => document.getElementById('syncStatus').innerText = "‚úÖ GESPEICHERT")
                .catch(() => document.getElementById('syncStatus').innerText = "‚ùå SPEICHERFEHLER");
        }

        function addExpense() {
            let name = document.getElementById('expName').value.trim();
            let desc = document.getElementById('expDesc').value.trim();
            let amount = parseFloat(document.getElementById('expAmount').value.replace(',', '.'));

            if (!name || isNaN(amount) || amount <= 0) { alert("Bitte Name & Betrag eingeben!"); return; }

            appData.expenses.push({ name, desc, amount });
            document.getElementById('expDesc').value = '';
            document.getElementById('expAmount').value = '';
            updateExpenseList();
            saveDataToCloud();
        }

        function updateExpenseList() {
            let listDiv = document.getElementById('expenseList');
            if (!appData.expenses.length) { listDiv.innerHTML = "<small>Noch keine Ausgaben.</small>"; return; }
            let html = '<p>BISHERIGE ITEMS:</p>';
            appData.expenses.forEach((ex, i) => {
                html += `<div class="expense-item"><div><b>${ex.name}</b>: ${ex.desc} (${ex.amount.toFixed(2)}‚Ç¨)</div><button class="del-btn" onclick="removeExpense(${i})">X</button></div>`;
            });
            listDiv.innerHTML = html;
        }

        function removeExpense(i) {
            appData.expenses.splice(i, 1);
            updateExpenseList();
            saveDataToCloud();
        }

        function calculateSplit() {
            if (!appData.expenses.length) return;
            let total = 0, paidPerPerson = {}, totalPeople = parseInt(document.getElementById('totalPeople').value);
            
            appData.expenses.forEach(ex => {
                total += ex.amount;
                let key = ex.name.toUpperCase();
                paidPerPerson[key] = (paidPerPerson[key] || 0) + ex.amount;
            });

            let avg = total / totalPeople;
            let html = `<p>GESAMT: ${total.toFixed(2)}‚Ç¨ (PRO KOPF: ${avg.toFixed(2)}‚Ç¨)</p><ul>`;
            
            for (let person in paidPerPerson) {
                let diff = paidPerPerson[person] - avg;
                html += `<li>${person}: ${diff > 0 ? "Bekommt " + diff.toFixed(2) + "‚Ç¨" : "Zahlt " + Math.abs(diff).toFixed(2) + "‚Ç¨"}</li>`;
            }
            document.getElementById('splitResult').innerHTML = html + "</ul>";
        }

        // --- QUIZ (EIGENE FRAGEN) ---
        const questions = [
            { 
                question: "Hier kommt deine erste Frage rein?", 
                answers: ["Falsch", "Richtig", "Falsch", "Falsch"], 
                correct: 1 
            }
        ];

        let currentQ = 0;
        function showQuestion() {
            if(currentQ >= questions.length) {
                document.getElementById('question').innerText = "ALLE FRAGEN GESCHAFFT!";
                document.getElementById('answers').innerHTML = "";
                return;
            }
            let q = questions[currentQ];
            document.getElementById('progress').innerText = `FRAGE ${currentQ+1} / ${questions.length}`;
            document.getElementById('question').innerText = q.question;
            let ansHtml = "";
            q.answers.forEach((a, i) => {
                ansHtml += `<button class="btn" onclick="check(${i})">${a}</button>`;
            });
            document.getElementById('answers').innerHTML = ansHtml;
            document.getElementById('next-btn').style.display = 'none';
            document.getElementById('feedback').style.display = 'none';
        }

        function check(i) {
            let q = questions[currentQ];
            let fb = document.getElementById('feedback');
            fb.style.display = 'block';
            if(i === q.correct) {
                fb.innerText = "‚úÖ RICHTIG! Die Crew trinkt!";
                fb.style.borderColor = "#0f0";
            } else {
                fb.innerText = "‚ùå FALSCH! Der Br√§utigam trinkt!";
                fb.style.borderColor = "#f00";
            }
            document.getElementById('next-btn').style.display = 'block';
        }

        function nextQuestion() {
            currentQ++;
            showQuestion();
        }
        
        showQuestion();
    </script>
</body>
</html>
